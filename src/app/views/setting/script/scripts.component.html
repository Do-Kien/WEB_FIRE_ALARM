<div class="card border-top-primary border-top-3 mb-3" style="max-width: 82rem;">

    <div class="card-header">
        <h5>Danh sách kịch bản điều khiển</h5>    
        <div class="row my-4 gx-5">
            <div class="col-12 col-md-12 col-lg-4 mb-4" style="display: flex;">
                <span class="col-4">Tủ điều khiển</span>
                <select class="form-select col-8" aria-label="Default select example">
                    <option *ngFor="let option of optionGreenhouse" [ngValue]="option.id">{{option.name}}</option>
                </select>
            </div>
            <div class="col-12 col-md-12 col-lg-4 mb-4" style="display: flex;">
                <span class="col-4">Khu vực</span>
                <select class="form-select col-8" aria-label="Default select example">
                    <option *ngFor="let option of optionZoneAll" [ngValue]="option.id">{{option.name}}</option>
                </select>
            </div>
            <div class="col-12 col-md-12 col-lg-4 mb-4" style="gap: 5%; display: flex;">
                <button type="button" class="btn btn-outline-info" style="min-width: 5%;">Tìm kiếm</button>
                <button type="button" class="btn btn-outline-primary" style="min-width: 5%;" routerLink="./add">Thêm mới</button>
            </div>
        </div>
    </div>
        
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th scope="col">STT</th>
                <th scope="col">Tên kịch bản</th>
                <th scope="col">Tủ điều khiển</th>
                <th scope="col">Khu vực</th>
                <th scope="col">Thao tác</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let script of listScript; let i = index">
                <th scope="row">{{i+1}}</th>
                <td>{{script.name}}</td>
                <td>{{script.greenhouseName}}</td>
                <td>{{script.zoneName}}</td>
                <td>
                    <a class="mr-2"><i class="fa-solid fa-pen-to-square icon-pen-to-square" cTooltip="Sửa"
                        cTooltipPlacement="top" (click)="goToEditScript(script)"></i>
                    </a>/
                    <a class="ml-2"><i class="fa-solid fa-trash-can icon-trash-can" cTooltip="Xóa"
                        cTooltipPlacement="top" [cModalToggle]="deleteScriptModal.id" (click)="setScriptId(script.id)"></i>
                    </a>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<!-- Modal delete script -->
<c-modal #deleteScriptModal backdrop="static" id="deleteScriptModal" alignment="center">
    <c-modal-header>
        <h5 cModalTitle>Xóa kịch bản điều khiển</h5>
        <button [cModalToggle]="deleteScriptModal.id" cButtonClose></button>
    </c-modal-header>
    <c-modal-body>
        Bạn có chắc chắn muốn xóa Kịch bản điều khiển này không ?
        Dữ liệu không thể khôi phục được sau khi xóa .
    </c-modal-body>
    <c-modal-footer>
        <button [cModalToggle]="deleteScriptModal.id" cButton color="secondary">
            Hủy bỏ
        </button>
        <button cButton color="danger" (click)="deleteScript()">Xác nhận</button>
    </c-modal-footer>
</c-modal>